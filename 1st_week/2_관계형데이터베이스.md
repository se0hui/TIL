# 관계형 데이터베이스

 - **테이블 형태의 데이터 저장** : 데이터를 테이블 형태로 저장, 테이블은 행과 열로 구성됨
 - **SQL 사용** : SQL을 사용하여 데이터를 관리하고, 기본 키와 외래 키로 테이블 간의 관계를 정의함

    > **테이블의 행** : 데이터의 한 레코드를 나타냄 (ex. 고객 테이블에서 각 행은 한 명의 고객을 나타냄)
    > **테이블의 열** : 데이터의 속성을 나타냄 (ex. 고객 테이블에서 열은 고객 ID, 이름, 이메일 등을 나타냄)

 <br>

### <span style = "color : lightgreen">데이터 무결성</span>

 - **정규화** : 데이터를 구조화 하여 중복을 최소화, 무결성을 유지, 삽입, 삭제, 갱신 이상을 방지
 - **제약 조건** : NOT NULL, UNIQUE, CHECK 등을 통해 데이터의 무결성과 일관성을 유지

    > **제약 조건 및 무결성**
    >**정의**: 무결성 제약 조건은 데이터의 정확성과 일관성을 유지하기 위한 규칙
    > **종류**:
    >>- 참조 무결성(Referential Integrity): 외래 키가 참조하는 기본 키가 항상 유효하도록 보장
    >>- 도메인 무결성(Domain Integrity): 열에 저장될 수 있는 값의 범위를 정의(ex. 데이터 타입, 길이, 값 범위 등)
    >>- 개체 무결성(Entity Integrity): 기본 키가 NULL 값을 가질 수 없도록 보장
    >>- 고유 제약 조건(Unique Constraint): 열의 값이 중복되지 않도록 보장

<br>

### <span style = "color : lightgreen">관계 및 조인</span>

 - **테이블 간의 관계 정의** : 테이블 간의 관계를 정의하여 데이터를 조직화하고 데이터 중복을 줄이며 데이터 일관성을 유지
 - **조인 연산** : 여러 테이블에서 데이터를 결합하여 조회할 수 있음

 <br><br>






## 데이터 베이스 연관관계를 설정하는 방법

### <span style = "color : lightgreen">기본 키</span>

 - **정의** : 기본 키는 테이블의 각 행을 구유하게 식별하는 열 또는 열의 조합, 중복되지 않으며 NULL 값을 가질 수 없음
 - **용도** : 각 테이블의 데이터 레코드를 고유하게 식별, 다른 테이블과의 관계를 정의하는 데 사용

<br>

### <span style = "color : lightgreen">외래 키</span>

 - **정의** : 한 테이블의 열이 다른 테이블의 기본 키를 참조하는 열
 - **용도** : 두 테이블 간의 관계를 설정, 참조 무결성을 유지하며 참조된 기본 키가 유효한 값을 가지도록 보장
 
<br>

### <span style = "color : lightgreen">일대일 관계</span>

 - **정의** : 한 테이블의 한 행이 다른 테이블의 한 행과 관계를 맺는 경우, 두 테이블 간에 각 레코드가 서로 1:1 대응 관계를 유지함, 각 레코드가 서로 유일하게 매칭 됨
 - **설정 방법** : 두 테이블 모두 고유한 기본 키를 가지며, 한 테이블의 기본 키를 다른 테이블의 외래 키로 설정함
 - **고유 제약 조건** : 외래 키가 고유하도록 설정하여 각 레코드가 오직 하나의 레코드와만 연결되도록 함

    > **국가와 수도**
    각 국가에는 하나의 수도가 있음


<br>

### <span style = "color : lightgreen">일대다 관계</span>

 - **정의** : 한 테이블의 한 행이 다른 테이블의 여러 행과 관계를 맺는 경우
 - **설정 방법** : 부모 테이블의 기본 키가 자식 테이블의 외래 키로 포함되며, 자식 테이블의 여러 레코드들이 부모 테이블의 한 레코드와 연결됨

    > **부모와 자식**
    하나의 부모가 여러 자식을 가질 수 있음

<br>

### <span style = "color : lightgreen">다대다 관계</span>

 - **정의** : 한 테이블의 여러 행이 다른 테이블의 여러 행과 관계를 맺는 경우
 - **설정 방법** : 다대다 관계를 구현하기 위해 중간 테이블(조인 테이블)을 사용하고, 중간 테이블은 두 테이블의 기본 키를 외래 키로 포함하여 두 테이블 간의 관계를 설정
 - **고유 제약 조건** : 중간 테이블에서 두 원본 테이블 간의 중복된 관계가 추가되는 것을 방지하기 위해 고유 제약 조건을 설정함

    > **영화와 배우**
    하나의 영화에 여러 배우가 출연할 수 있고, 하나의 배우가 여러 영화에 출연할 수 있음














<br>
<br><br><br><br><br><br><br><br><br><br><br><br><br>

사용자, 게시물, 댓글 테이블

<br>

#### 테이블 구조 예시

- 사용자 테이블
  - 'id' **(기본 키)** - 유저 고유 아이디
  - 'name'
  - 'password'
  - 'username'

- 게시물 테이블
  - 'id' **(기본 키)**- 게시물 고유 아이디
  - 'user_id' *(외래 키)*
  - 'title'
  - 'content'

- 댓글 테이블
  - 'board_id' *(외래 키)*
  - 'id' **(기본 키)** - 댓글 고유 아이디
  - 'user_id' *(외래 키)*
  - 'content'

#### 외래 키와 기본 키

각 테이블의 'id' -> 기본 키

- 게시물 테이블 'user_id' -> 사용자 테이블의 'id'를 참조
- 댓글 테이블 'user_id' -> 사용자 테이블의 'id'를 참조
- 댓글 테이블 'board_id' -> 게시물 테이블의 'id'를 참조

#### 관계 설정

**일대다 관계**
 - 사용자와 게시물 : 한 명의 사용자는 여러 게시물을 작성할 수 있음
 - 사용자 테이블의 'id'가 게시물 테이블의 'user_id'를 외래 키로 참조함
